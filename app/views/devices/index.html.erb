<h1>Alle Geräte</h1>
<br>
<a href="<%=new_device_path%>" class="btn btn-success">Neues Gerät erstellen</a>
<br><br><br><br>
<div id="content" class="table-responsive">
  <table id="devices_table" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead class="table-devices-header">
      <tr>
        <th rowspan="2">ID</th>
        <th rowspan="2">Definition</th>
        <th colspan="15">Engineering</th>
        <th colspan="12">Geräte</th>
        <th colspan="12">Signale</th>
        <th colspan="2">Schaltanlagen</th>
        <th colspan="12">Elektroinstallation</th>
        <th rowspan="2">Aktionen</th>
      </tr>
      <tr>
        <th><span>Admin</span></th>
        <th><span>Steuerkonzept</span></th>
        <th><span>IO-Liste</span></th>
        <th><span>El-Planung</span></th>
        <th><span>Fkt-Beschrieb</span></th>
        <th><span>Safetymatrix</span></th>
        <th><span>SW</span></th>
        <th><span>SW-Safety</span></th>
        <th><span>Bauleitung</span></th>
        <th><span>Parametrierung</span></th>
        <th><span>Signaltest</span></th>
        <th><span>Safetytest</span></th>
        <th><span>Fkt-Test kalt</span></th>
        <th><span>Fkt-Test heiss</span></th>
        <th><span>Konformität</span></th>
        <th><span>Beschriftung</span></th>
        <th><span>Sensor</span></th>
        <th><span>Ventil</span></th>
        <th><span>Heizung</span></th>
        <th><span>M1R</span></th>
        <th><span>M2R</span></th>
        <th><span>MFU</span></th>
        <th><span>Wicklung</span></th>
        <th><span>Bremse</span></th>
        <th><span>Heizung</span></th>
        <th><span>Kommunikation</span></th>
        <th><span>Safety</span></th>
        <th><span>DI</span></th>
        <th><span>DO</span></th>
        <th><span>AI</span></th>
        <th><span>AO</span></th>
        <th><span>Z</span></th>
        <th><span>Inkr</span></th>
        <th><span>SSI</span></th>
        <th><span>PB</span></th>
        <th><span>sDI</span></th>
        <th><span>sDO</span></th>
        <th><span>sAI</span></th>
        <th><span>sAO</span></th>
        <th><span>Schaltanlagen Einbau</span></th>
        <th><span>Schaltanlagen Anzahl</span></th>
        <th><span>Kabel Steuerung</span></th>
        <th><span>Kabel Steuerung Länge</span></th>
        <th><span>Kabel Speisung</span></th>
        <th><span>Kabel Speisung Länge</span></th>
        <th><span>Kabel Pot-Ausgl.</span></th>
        <th><span>Kabel Pot-Ausgl. Länge</span></th>
        <th><span>Installation Trasse</span></th>
        <th><span>Installation Trasse Länge</span></th>
        <th><span>Installation Rohr</span></th>
        <th><span>Installation Rohr Länge</span></th>
        <th><span>Montage Geräte</span></th>
        <th><span>Montage Geräte Anzahl</span></th>
      </tr>
    </thead>
    <tbody>
    <% @devices.each do |device| %>
      <tr>
        <td><%= device.id %></td>
        <td><%= device.definition %></td>
        <td><%= device.eng_admin %></td>
        <td><%= device.eng_steuerkonzept %></td>
        <td><%= device.eng_ioliste %></td>
        <td><%= device.eng_elplanung %></td>
        <td><%= device.eng_fktbeschrieb %></td>
        <td><%= device.eng_safetymatrix %></td>
        <td><%= device.eng_software %></td>
        <td><%= device.eng_softwaresafety %></td>
        <td><%= device.eng_bauleitung %></td>
        <td><%= device.eng_parametrierung %></td>
        <td><%= device.eng_signaltest %></td>
        <td><%= device.eng_safetymatrix %></td>
        <td><%= device.eng_fkttestkalt %></td>
        <td><%= device.eng_fkttestheiss %></td>
        <td><%= device.eng_konformitaet %></td>
        <td><%= device.ger_beschriftung %></td>
        <td><%= device.ger_sensor %></td>
        <td><%= device.ger_ventil %></td>
        <td><%= device.ger_heizung %></td>
        <td><%= device.ger_m1r %></td>
        <td><%= device.ger_m2r %></td>
        <td><%= device.ger_mfu %></td>
        <td><%= device.ger_wicklung %></td>
        <td><%= device.ger_bremse %></td>
        <td><%= device.ger_heizung %></td>
        <td><%= device.ger_kommunikation %></td>
        <td><%= device.ger_safety %></td>
        <td><%= device.sig_di %></td>
        <td><%= device.sig_do %></td>
        <td><%= device.sig_ai %></td>
        <td><%= device.sig_ao %></td>
        <td><%= device.sig_z %></td>
        <td><%= device.sig_inkr %></td>
        <td><%= device.sig_ssi %></td>
        <td><%= device.sig_pb %></td>
        <td><%= device.sig_sdi %></td>
        <td><%= device.sig_sdo %></td>
        <td><%= device.sig_sai %></td>
        <td><%= device.sig_sao %></td>
        <td><%= device.switchgear_einbau.nil? ? '' : device.switchgear_einbau.kennung %></td>
        <td><%= device.sch_anzahl %></td>
        <td><%= device.wire_steuerung.nil? ? '' : device.wire_steuerung.kabeltyp %></td>
        <td><%= device.kabelsteuerunglaenge %></td>
        <td><%= device.wire_speisung.nil? ? '' : device.wire_speisung.kabeltyp %></td>
        <td><%= device.kabelspeisunglaenge %></td>
        <td><%= device.wire_potausgleich.nil? ? '' : device.wire_potausgleich.kabeltyp %></td>
        <td><%= device.kabelpotausgleichlaenge %></td>
        <td><%= device.elinst_trasse.nil? ? '' : device.elinst_trasse.kennung %></td>
        <td><%= device.installationtrasselaenge %></td>
        <td><%= device.elinst_rohr.nil? ? '' : device.elinst_rohr.kennung %></td>
        <td><%= device.installationrohrlaenge %></td>
        <td><%= device.elinst_geraete.nil? ? '' : device.elinst_geraete.kennung %></td>
        <td><%= device.installationgeraetelaenge %></td>
        <td>
          <a href="<%= device_path(device.id) %>" class="btn btn-xs btn-default btn-index">Info</a>
          <a href="<%= edit_device_path(device.id) %>" class="btn btn-xs btn-info btn-index">Bearbeiten</a>
          <button type="button" class="btn btn-xs btn-danger btn-index"
                  data-toggle="modal" data-target="#popup_sure_delete"
                  data-itemid="<%= device.id %>"
                  data-model="devices">
            Gerät löschen
          </button>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>

<%= render 'layouts/loading', :message => "Lade Geräte..." %>
<%= render 'layouts/popups' %>


<script>
    $(document).ready(function() {
        $('#devices_table').DataTable({
            "scrollX": true,
            "pageLength": 10,
            "language": {
                "decimal":        "",
                "emptyTable":     "Keine Einträge gefunden",
                "info":           "Zeige _START_ bis _END_ von _TOTAL_ Einträgen",
                "infoEmpty":      "Zeige 0 bis 0 von 0 Einträgen",
                "infoFiltered":   "(gefiltert aus total _MAX_ Einträgen)",
                "lengthMenu":     "Zeige _MENU_ Einträge",
                "loadingRecords": "Lade Daten",
                "processing":     "Verarbeite...",
                "search":         "Suche",
                "zeroRecords":    "0 Einträge",
                "paginate": {
                    "first":      "Erster",
                    "last":       "Letzter",
                    "next":       "Nächste",
                    "previous":   "Vorherige"
                }
            }});
    });
</script>